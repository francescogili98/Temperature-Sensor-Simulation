<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href=https://stitches.hyperyolo.com/output.css rel="stylesheet">
    <link rel="stylesheet" href=https://use.fontawesome.com/releases/v5.6.3/css/all.css integrity=sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/ crossorigin="anonymous">
    <title>Stitches</title>


    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {
        var data = google.visualization.arrayToDataTable({{data|safe}});

        var options = {
          title: '{{sensor}}',
          hAxis: {title: '22/07/2022',  titleTextStyle: {color: '#333'}},
          vAxis: {minValue: 0}
        };

        var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
        chart.draw(data, options);

        $.getJSON('data.json', function(data) {
          data2 = google.visualization.arrayToDataTable(data)
          var chart = new google.visualization.AreaChart(document.getElementById('chart_div2'));
          chart.draw(data2, options);

          var chart = new google.visualization.AreaChart(document.getElementById('chart_div3'));
          chart.draw(data2, options);
        })

      }

      setTimeout(function(){
        window.location.reload();
      }, 5000);

    </script>


  </head>
  <body>
</body>
</html>